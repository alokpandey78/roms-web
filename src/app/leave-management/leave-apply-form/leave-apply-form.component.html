<div fxLayout="row wrap">
  <div fxFlex.gt-sm="100" fxFlex="100">
    <div>
      <mat-tab-group [selectedIndex]="tabIndex" mat-stretch-tabs (selectedIndexChange)="onTabChanged($event)">
        <mat-tab label="Apply Leave">
          <form [formGroup]="form" (ngSubmit)="onSubmit()" class="basic-form">
            <mat-card class="m-0 m-t-20 m-b-5">
              <mat-card-title class="p-10 p-l-25"> When </mat-card-title>
              <mat-divider></mat-divider>
              <mat-card-content>
                <!-- <div fxLayout="row wrap">
                  <div fxFlex.gt-sm="100" fxFlex="100"> -->
                <!-- <mat-card> -->
                <!-- <mat-card-content> -->

                <!-- ============================================================== -->
                <!-- column -->
                <!-- ============================================================== -->
                <!-- Six Group Row -->
                <!-- ============================================================== -->
                <div fxLayout="row wrap">
                  <!-- column -->
                  <div fxFlex.gt-sm="16.66" fxFlex.gt-xs="100" fxFlex="100" class="m-b-xsm20">
                    <a href="javascript:void" (click)="calculateDate('-1')">
                      <mat-card class="bg-info text-white text-center">
                        <div class="p-10">
                          <h3 class="m-0">Yesterday</h3>
                          <small>{{ getDate('-1') | date: 'dd MMM,y' }}</small>
                        </div>
                      </mat-card>
                    </a>
                  </div>
                  <!-- column -->
                  <div fxFlex.gt-sm="16.66" fxFlex.gt-xs="100" fxFlex="100" class="m-b-xsm20">
                    <a href="javascript:void" (click)="calculateDate('0')">
                      <mat-card class="bg-purple text-white text-center">
                        <div class="p-10">
                          <h3 class="m-0">Today</h3>
                          <small>{{ getDate('0') | date: 'dd MMM,y' }}</small>
                        </div>
                      </mat-card>
                    </a>
                  </div>
                  <!-- column -->
                  <div fxFlex.gt-sm="16.66" fxFlex.gt-xs="100" fxFlex="100" class="m-b-xsm20">
                    <a href="javascript:void" (click)="calculateDate('1')">
                      <mat-card class="bg-success text-white text-center">
                        <div class="p-10">
                          <h3 class="m-0">Tomorrow</h3>
                          <small>{{ getDate('1') | date: 'dd MMM,y' }}</small>
                        </div>
                      </mat-card>
                    </a>
                  </div>
                  <!-- column -->
                  <div fxFlex.gt-sm="16.66" fxFlex.gt-xs="100" fxFlex="100">
                    <a href="javascript:void" (click)="calculateDate('2')">
                      <mat-card class="bg-inverse text-white text-center">
                        <div class="p-10">
                          <h3 class="m-0">Day After</h3>
                          <small>{{ getDate('2') | date: 'dd MMM,y' }}</small>
                        </div>
                      </mat-card>
                    </a>
                  </div>
                  <!-- column -->
                  <div fxFlex.gt-sm="20" fxFlex.gt-xs="100" fxFlex="100" *ngIf="isFriday != '5'">
                    <a href="javascript:void" (click)="calculateDate('fri')">
                      <mat-card class="bg-megna text-white text-center">
                        <div class="p-10">
                          <h3 class="m-0">This Friday</h3>
                          <small>{{ getDate('fri') | date: 'dd MMM,y' }}</small>
                        </div>
                      </mat-card>
                    </a>
                  </div>
                  <!-- column -->
                  <!-- <div fxFlex.gt-sm="20" fxFlex.gt-xs="100" fxFlex="100">
                    <a href="javascript:void" (click)="calculateDate('mon')">
                      <mat-card class="bg-warning text-white text-center">
                        <div class="p-10">
                          <h3 class="m-0">Next Monday</h3>
                          <small>{{ getDate('mon') | date: 'dd MMM,y' }}</small>
                        </div>
                      </mat-card>
                    </a>
                  </div> -->
                </div>
                <!-- ============================================================== -->
                <!-- Simple four boxes Row -->

                <!-- <form > -->
                <div fxLayout="row wrap " fxFlexAlign="center" class="p-t-20 d-wrap select-date">
                  <div fxFlex.gt-sm="35" class="m-l-15 sm-m-l-0">
                    <mat-form-field appearance="outline">
                      <mat-label (click)="picker.open()">Select Date Range</mat-label>
                      <mat-date-range-input [rangePicker]="picker" [min]="minDate" [max]="maxDate" [ngClass]="{
                          'is-invalid':
                            submitted &&
                            (checkError('startDate', 'required') ||
                              checkError('endDate', 'required'))
                        }">
                        <input matStartDate formControlName="startDate" (dateChange)="calculateDaysByField()"
                          placeholder="Start date" readonly (click)="picker.open()" />
                        <input matEndDate (dateChange)="calculateDaysByField()" formControlName="endDate"
                          placeholder="End date" readonly (click)="picker.open()" />
                      </mat-date-range-input>
                      <!-- <mat-hint>MM/DD/YYYY â€“ MM/DD/YYYY</mat-hint> -->
                      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                      <mat-date-range-picker #picker></mat-date-range-picker>

                      <mat-error *ngIf="
                          submitted &&
                          (checkError('startDate', 'required') || checkError('endDate', 'required'))
                        ">
                        Invalid dates
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div fxFlex.gt-sm="8" class="p-10">
                    <mat-form-field>
                      <input type="text" maxlength="3" matInput formControlName="leaveDays"
                        (change)="checkLeaveDays($event)" class="text-center" />
                      <!-- <button mat-button class="custom-grey-button" disabled> -->
                      <!-- {{ leaveDays }} -->
                      <!-- </button> -->
                    </mat-form-field>
                  </div>
                  <div fxFlex.gt-sm="10" class="p-t-20">
                    <h3 class="m-0">Day(s)</h3>
                  </div>

                  <div fxFlex.gt-sm="90" class="row p-l-10 p-t-0">
                    <div fxLayout="row wrap" style="align-items: center">
                      <div fxFlex.gt-sm="50">
                        <div fxLayout="row wrap">
                          <!-- column -->
                          <div fxFlex.gt-sm="25" fxFlex.gt-xs="100" fxFlex="100" class="m-b-xsm20">
                            <a href="javascript:void" (click)="calculateHours(1)">
                              <mat-card class="bg-info text-white text-center">
                                <div class="p-20">
                                  <h4 class="m-0">1 <span>Hr</span></h4>
                                </div>
                              </mat-card>
                            </a>
                          </div>
                          <!-- column -->
                          <div fxFlex.gt-sm="25" fxFlex.gt-xs="100" fxFlex="100" class="m-b-xsm20">
                            <a href="javascript:void" (click)="calculateHours(2)">
                              <mat-card class="bg-purple text-white text-center">
                                <div class="p-20">
                                  <h4 class="m-0">2 <span>Hr</span></h4>
                                </div>
                              </mat-card>
                            </a>
                          </div>
                          <!-- column -->
                          <div fxFlex.gt-sm="25" fxFlex.gt-xs="100" fxFlex="100" class="m-b-xsm20">
                            <a href="javascript:void" (click)="calculateHours(3)">
                              <mat-card class="bg-success text-white text-center">
                                <div class="p-20">
                                  <h4 class="m-0">3 <span>Hr</span></h4>
                                </div>
                              </mat-card>
                            </a>
                          </div>
                          <!-- column -->
                          <div fxFlex.gt-sm="25" fxFlex.gt-xs="100" fxFlex="100" class="m-b-xsm20">
                            <a href="javascript:void" (click)="calculateHours(4)">
                              <mat-card class="bg-inverse text-white text-center">
                                <div class="p-20">
                                  <h4 class="m-0">4 <span>Hr</span></h4>
                                </div>
                              </mat-card>
                            </a>
                          </div>
                        </div>
                        <div fxLayout="row wrap">
                          <!-- <div fxFlex.gt-sm="25">
                            <button
                              mat-button
                              type="button"
                              [disabled]="isTimeInputDisabled"
                              class="custom-button-light-blue"
                              color="primary"
                              (click)="calculateHours(1)"
                            >
                              1 Hr
                            </button>
                          </div> -->
                          <!-- <div fxFlex.gt-sm="25">
                            <button
                              mat-button
                              type="button"
                              [disabled]="isTimeInputDisabled"
                              class="custom-button-light-blue-1"
                              (click)="calculateHours(2)"
                              color="primary"
                            >
                              2 Hr
                            </button>
                          </div> -->
                          <!-- <div fxFlex.gt-sm="25">
                            <button
                              mat-button
                              type="button"
                              [disabled]="isTimeInputDisabled"
                              class="custom-button-light-green"
                              (click)="calculateHours(3)"
                              color="primary"
                            >
                              3 Hr
                            </button>
                          </div> -->
                          <!-- <div fxFlex.gt-sm="25">
                            <button
                              mat-button
                              type="button"
                              [disabled]="isTimeInputDisabled"
                              class="custom-button-brown"
                              (click)="calculateHours(4)"
                              color="primary"
                            >
                              4 Hr
                            </button>
                          </div> -->
                        </div>
                      </div>
                      <div fxFlex.gt-sm="50" style="align-items: center; flex-wrap: wrap">
                        <div fxFlex.gt-sm="10" class="p-10">
                          <h3>Or</h3>
                        </div>

                        <div fxFlex.gt-sm="15">
                          <!-- <div class="mat-body-2">Or</div> -->
                          <mat-form-field appearance="outline" class="custom-mat-form-field">
                            <!-- <mat-label>--:--:--</mat-label> -->
                            <input [readonly]="isTimeInputDisabled" formControlName="startTime"
                              [textMask]="{ mask: util.timeMask }" matInput placeholder="--:--" [type]="'text'"
                              (change)="calculateHoursByField()" class="text-center" />
                          </mat-form-field>
                        </div>
                        <div fxFlex.gt-sm="10" class="p-10">
                          <h3>To</h3>
                        </div>
                        <div fxFlex.gt-sm="15">
                          <mat-form-field appearance="outline" class="custom-mat-form-field">
                            <!-- <mat-label>--:--:--</mat-label> -->
                            <input formControlName="endTime" [readonly]="isTimeInputDisabled"
                              [textMask]="{ mask: util.timeMask }" placeholder="--:--" matInput [type]="'text'"
                              (change)="calculateHoursByField()" class="text-center" />
                          </mat-form-field>
                        </div>
                        <div fxFlex.gt-sm="10">
                          <!-- <button mat-button type="button" color="primary" disabled>
                            {{ leaveHours }}
                          </button> -->
                          <h4 class="text-center">{{ leaveHours }}</h4>
                        </div>
                        <div fxFlex.gt-sm="20" class="p-10">
                          <h3>Hours</h3>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- </form> -->
                <!-- </mat-card-content> -->
                <!-- </mat-card> -->
                <!-- </div>
                </div> -->

                <!-- <div class="timeform">

                  <div class="mat-body-2">Days</div>

                  <div class="mat-body-2">Hours</div>
                </div> -->
              </mat-card-content>
            </mat-card>
            <!-- <mat-divider> </mat-divider> -->

            <!-- <mat-card>

            </mat-card> -->

            <!-- <mat-card class="timeform"> -->
            <!-- <div class="header">
                        <div class="mat-body-2">Date Range</div>
                        <div class="mat-body-2">Duration(Optional)</div>
                    </div> -->
            <!-- </mat-card> -->
            <mat-card class="m-0 m-t-20 m-b-5">
              <mat-card-title class="p-10 p-l-25">
                <!-- <mat-icon class="m-r-10">category</mat-icon> -->
                Type
              </mat-card-title>
              <mat-divider></mat-divider>
              <mat-card-content>
                <div fxLayout="row wrap" fxFlexAlign="center" class="row">
                  <input type="hidden" formControlName="leaveType" />
                  <div fxFlex.gt-sm="100" class="m-l-15">
                    <ng-container *ngFor="let leave of leaveTypeList; let i = index">
                      <button mat-button type="button" (click)="setLeaveType(leave)" [ngClass]="getColor(i, leave.id)"
                        color="primary" class="m-r-20 m-t-5 m-b-5">
                        <!-- [ngClass]="{ active: leave.id == selectedLeaveType }"  -->
                        {{ leave?.leaveDescription }}
                      </button>
                    </ng-container>
                  </div>
                  <!-- <div fxFlex.gt-sm="12" fxFlex="100">
                    <button mat-button type="button" class="custom-button-grey" color="primary"
                      (click)="calculateDate('-1')">
                      Yesterday
                    </button>
                  </div> -->
                  <!-- <div fxFlex.gt-sm="9" fxFlex="100">
                    <button mat-button type="button" class="custom-button-purple" color="primary"
                      (click)="calculateDate('0')">
                      Today
                    </button>
                  </div> -->
                  <!-- <div fxFlex.gt-sm="12" fxFlex="100">
                    <button mat-button type="button" class="custom-button-light-grey" (click)="calculateDate('1')"
                      color="primary">
                      Tomorrow
                    </button>
                  </div> -->
                  <!-- <div fxFlex.gt-sm="11" fxFlex="100">
                    <button mat-button type="button" class="custom-button-light-pink" (click)="calculateDate('2')"
                      color="primary">
                      Day After
                    </button>
                  </div> -->
                  <!-- <div fxFlex.gt-sm="12" fxFlex="100">
                    <button mat-button type="button" class="custom-button-light-green" (click)="calculateDate('fri')"
                      color="primary">
                      This Friday
                    </button>
                  </div> -->
                  <!-- <div fxFlex.gt-sm="12" fxFlex="100">
                    <button mat-button type="button" class="custom-button-ligh-orange" (click)="calculateDate('mon')"
                      color="primary">
                      Next Monday
                    </button>
                  </div> -->
                </div>
              </mat-card-content>
            </mat-card>
            <!-- <mat-card> </mat-card> -->
            <!-- <mat-card class="m-0 m-t-20 m-b-5">
              <mat-card-title class="p-10 p-l-25">
                Approval
              </mat-card-title>
              <mat-divider></mat-divider>
              <mat-card-content>
                <mat-card-actions>
                  <div fxLayout="row wrap" fxFlexAlign="center" class="row m-l-15">
                    <div fxFlex.gt-sm="45" fxFlex="100">
                      <mat-form-field appearance="outline" class="m-t-0">
                        <textarea
                          [ngClass]="{
                            'is-invalid': submitted && checkError('leaveReason', 'required')
                          }"
                          matInput
                          formControlName="leaveReason"
                          placeholder="Comment"
                          rows="10"
                        >
                        </textarea>
                        <mat-error *ngIf="submitted && checkError('leaveReason', 'required')">
                          Comment is required
                        </mat-error>
                      </mat-form-field>
                    </div>

                    <div fxFlex.gt-sm="50" class="m-l-30 p-t-15 p-b-15 text-center m-t-5 border1">
                      <mat-card-content>
                        <div class="pro-img">
                          <img src="assets/images/users/4.jpg" width="100" alt="user" />
                        </div>
                        <h3 class="m-b-0">
                          {{ managerData?.firstName }} {{ managerData?.lastName }}
                        </h3>
                        <h6 class="m-t-0">Manager</h6>
                        <mat-card-actions>
                          <button mat-raised-button color="warn" class="m-t-20" type="" submit>
                            REQUEST FOR APPROVAL
                            <mat-icon> arrow_right_alt </mat-icon>
                          </button>
                        </mat-card-actions>
                        <div fxLayout="row" fxLayoutWrap="wrap" class="m-t-30">
                        </div>
                      </mat-card-content>
                    </div>
                  </div>
                </mat-card-actions>
              </mat-card-content>
            </mat-card> -->

            <div fxLayout="row wrap">
              <!-- Card column -->
              <div fxFlex.gt-sm="60" fxFlex="100">
                <mat-card class="m-0 m-t-20">
                  <div fxLayout="row wrap">
                    <div fxFlex.gt-sm="100" fxFlex="100">
                      <mat-card-title class="p-20 p-l-25">Comments</mat-card-title>
                      <mat-form-field appearance="outline" class="m-t-0 p-l-20 p-r-20">
                        <!-- <mat-label>Outline form field</mat-label> -->
                        <textarea [ngClass]="{
                            'is-invalid': submitted && checkError('leaveReason', 'required')
                          }" matInput formControlName="leaveReason" placeholder="Comment" rows="6">
                        </textarea>
                        <mat-error *ngIf="submitted && checkError('leaveReason', 'required')">
                          Comment is required
                        </mat-error>
                      </mat-form-field>
                    </div>
                    <div fxFlex.gt-sm="100" fxFlex="100">
                      <div fxLayout="row wrap">
                        <div fxFlex.gt-sm="30" fxFlex="100" align="center">
                          <button (click)="attachment.click()" type="button" mat-raised-button color="warn"
                            class="m-20 m-b-20 xsm20">
                            Attachments
                            <mat-icon>cloud_upload</mat-icon>
                          </button>
                          <input #attachment type="file" hidden (change)="onFileChange($event)"
                            accept="application/pdf, image/*">
                        </div>
                        <div fxFlex.gt-sm="70" fxFlex="100" class="m-b-20 r-Img">
                          <div class="prev-img" *ngFor="let file of attachments;let i=index;">
                            <img *ngIf="file.type == 'image'" class="m-r-20" [src]="file.url" alt="" />
                            <img *ngIf="file.type == 'pdf'" class="m-r-20" src="../../../assets/images/pdf_icon.png"
                              alt="" />
                            <button type="button" (click)="removeAttachment(i)">
                              <mat-icon>cancel</mat-icon>
                            </button>
                          </div>
                          <!-- <div class="prev-img">
                            <img class="m-r-20" src="assets/images/users/1.jpg" alt="Documents" />
                            <button>
                              <mat-icon>cancel</mat-icon>
                            </button>
                          </div>
                          <div class="prev-img">
                            <img class="m-r-20" src="assets/images/users/1.jpg" alt="Documents" />
                            <button>
                              <mat-icon>cancel</mat-icon>
                            </button>
                          </div>
                          <div class="prev-img">
                            <img class="m-r-20" src="assets/images/users/1.jpg" alt="Documents" />
                            <button>
                              <mat-icon>cancel</mat-icon>
                            </button>
                          </div>
                          <div class="prev-img">
                            <img class="m-r-20" src="assets/images/users/1.jpg" alt="Documents" />
                            <button>
                              <mat-icon>cancel</mat-icon>
                            </button>
                          </div>
                          <div class="prev-img">
                            <img class="m-r-20" src="assets/images/users/1.jpg" alt="Documents" />
                            <button>
                              <mat-icon>cancel</mat-icon>
                            </button>
                          </div>
                          <div class="prev-img">
                            <img class="m-r-20" src="assets/images/users/1.jpg" alt="Documents" />
                            <button>
                              <mat-icon>cancel</mat-icon>
                            </button>
                          </div>
                          <div class="prev-img">
                            <img class="m-r-20" src="assets/images/users/1.jpg" alt="Documents" />
                            <button>
                              <mat-icon>cancel</mat-icon>
                            </button>
                          </div> -->
                        </div>
                      </div>
                    </div>
                  </div>
                </mat-card>
              </div>
              <!-- Card column -->
              <div fxFlex.gt-sm="40" fxFlex="100">
                <mat-card class="oh text-center little-profile m-t-20">
                  <div class="mh-130">
                    <img mat-card-image src="assets/images/background/profile-bg.jpg" alt="Background Image" />
                  </div>
                  <mat-card-content>
                    <div class="pro-img h-128">
                      <img onerror="this.onerror=null;this.src='../../../../assets/img/user-default-img.jpg';"
                        [src]="managerData && managerData.profileImage && managerData.profileImage.length>0?managerData.profileImage[0]?.digitalAssets?.url:''"
                        width="100" class="img-fluid img-circle" />
                    </div>
                    <h3 class="m-b-0 h-30">
                      <span *ngIf="managerData && managerData.firstName">{{ managerData?.firstName }} {{
                        managerData?.lastName }}
                      </span>
                      <span *ngIf="!managerData || (managerData && !managerData.firstName)">
                        No Manager found.
                      </span>
                    </h3>
                    <h6 class="m-t-0">
                      <span *ngIf="managerData && managerData.firstName">Manager</span>
                    </h6>
                    <mat-card-actions class="">
                      <button [disabled]="!managerData || (managerData && !managerData.firstName)" mat-raised-button
                        color="warn" class="m-t-20" type="" submit>
                        REQUEST FOR APPROVAL
                        <mat-icon> arrow_right_alt </mat-icon>
                      </button>
                    </mat-card-actions>
                  </mat-card-content>
                </mat-card>
              </div>
              <!-- Card column -->
            </div>
          </form>
        </mat-tab>
        <mat-tab label="History">
          <div fxLayout="row wrap">
            <div fxFlex.gt-sm="100" fxFlex.gt-xs="100" fxFlex="100">
              <mat-card class="m-0 m-t-20 m-b-5">
                <mat-card-title align="right" class="p-r-20 p-t-10">
                  {{ currentDate | date: 'MMMM y'
                  }}<mat-form-field style="display: none; text-align: right">
                    <mat-label>Choose a date</mat-label>
                    <input matInput [matDatepicker]="pickerList" [(ngModel)]="historyMonth" />
                    <mat-datepicker #pickerList></mat-datepicker>
                  </mat-form-field>
                  <!-- <mat-icon (click)="pickerList.open()">calendar_today</mat-icon> -->
                </mat-card-title>
                <mat-card-content>
                  <div class="table-responsive">
                    <table mat-table [dataSource]="dataSource" class="table employee-list no-wrap mat-elevation-z8"
                      matSort multiTemplateDataRows>
                      <!-- <table width="100%" mat-table [dataSource]="dataSource" matSort> -->
                      <!-- ID Column -->
                      <ng-container matColumnDef="applyDate">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Date</th>
                        <td mat-cell *matCellDef="let row; let i = index">
                          <!-- <span class="header-label">applyDate:</span> -->
                          {{ row?.applyDate | date: 'dd/MM/yyyy' }}
                        </td>
                      </ng-container>

                      <!-- Progress Column -->
                      <ng-container matColumnDef="dates">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Leave</th>
                        <td mat-cell *matCellDef="let row">
                          <!-- <span class="header-label">dates:</span> -->
                          {{ row.startDateTime | date: 'MMM d' }} to
                          {{ row.endDateTime | date: 'MMM d, y' }}
                        </td>
                      </ng-container>

                      <!-- Name Column -->
                      <ng-container matColumnDef="days">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Days</th>
                        <td mat-cell *matCellDef="let row">
                          <!-- <span class="header-label">days:</span> -->
                          {{ row?.totalDay }}
                        </td>
                      </ng-container>

                      <!-- Fruit Column -->
                      <ng-container matColumnDef="time">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Time</th>
                        <td mat-cell *matCellDef="let row">
                          <!-- <span class="header-label">time:</span> -->
                          <ng-container *ngIf="row && row.totalHour > 0">
                            {{ row.startDateTime | date: 'shortTime' }} to
                            {{ row.endDateTime | date: 'shortTime' }}
                            <!-- {{ convertTimeMoment(row.startDateTime, "hh:mm A") }} to -->
                            <!-- {{ convertTimeMoment(row.endDateTime, "hh:mm A") }} -->
                          </ng-container>
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="hours">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Hours</th>
                        <td mat-cell *matCellDef="let row">
                          <!-- <span class="header-label">hours:</span> -->
                          {{ row?.totalHour }}
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="manager">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Manager</th>
                        <td mat-cell *matCellDef="let row">
                          <!-- <span class="header-label">manager:</span> -->
                          {{ row?.approver?.firstName }} {{ row?.approver?.lastName }}
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="leave_type">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Leave type</th>
                        <td mat-cell *matCellDef="let row">
                          <!-- <span class="header-label">leave_type:</span> -->
                          {{ row?.leaveType?.leaveDescription }}
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="status">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
                        <td mat-cell *matCellDef="let row">
                          <span [ngClass]="getStatusColor(row?.leaveStatus)">
                            <!-- {{ getStatus(row?.leaveStatus) }} -->
                            <mat-icon>
                              {{getStatusIcon(row?.leaveStatus)}}
                            </mat-icon>
                          </span>
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="leaveReason">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Reason</th>
                        <td mat-cell *matCellDef="let row">
                          <!-- <span class="header-label">leaveReason:</span> -->
                          {{ row?.leaveReason }}
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="reviewerRemark">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Comments</th>
                        <td mat-cell *matCellDef="let row">
                          <!-- <span class="header-label">reviewerRemark:</span> -->
                          {{ row?.reviewerRemark }}
                        </td>
                      </ng-container>

                      <ng-container matColumnDef="expandedDetail">
                        <td mat-cell *matCellDef="let element" [attr.colspan]="displayedColumns.length">
                          <div class="example-element-detail"
                            [@detailExpand]="element === expandedElement ? 'expanded' : 'collapsed'">
                            <!-- <div class="example-element-diagram"> -->
                            <!-- <div class="example-element-position">test</div> -->
                            <!-- <div class="example-element-symbol">{{ element.symbol }}</div> -->
                            <!-- <div class="example-element-name">{{ element.name }}</div> -->
                            <!-- <div class="example-element-weight">{{ element.weight }}</div> -->
                            <!-- </div> -->
                            <div fxLayout="row wrap" style="width: 100%">
                              <div fxFlex.gt-sm="100" fxFlex="100" fxFlexAlign="center">
                                <div fxFlex.gt-sm="50" fxFlex="100" fxFlexAlign="center">
                                  <div fxFlex.gt-sm="100" fxFlex="100" fxFlexAlign="center" class="mat-body-clp">
                                    <div fxFlex.gt-sm="50" fxFlex="100" fxFlexAlign="center">
                                      <!-- <mat-form-field appearance="outline" class="m-10"> -->
                                      <textarea matInput placeholder="Reason" class="text-reason"
                                        disabled>{{ element?.leaveReason }} </textarea>
                                      <!-- </mat-form-field> -->
                                    </div>
                                    <div fxFlex.gt-sm="50" fxFlex="100" fxFlexAlign="center">
                                      <div class="collapse-img">
                                        <ng-container *ngFor="let item of element?.attachments">
                                          <img *ngIf="item?.digitalAssets.fileType.includes( 'image')"
                                            (click)="openImageDialog(item?.digitalAssets?.url)"
                                            [src]="item?.digitalAssets?.url" alt="" />
                                          <img *ngIf="item?.digitalAssets.fileType.includes('pdf')"
                                            (click)="openFile(item?.digitalAssets?.url)"
                                            src="../../../assets/images/pdf_icon.png" alt="" />

                                        </ng-container>

                                        <!-- <img /> -->
                                        <!-- <img src="assets/images/users/1.jpg
                                                " alt="" width="75px" />
                                    <img src="assets/images/users/1.jpg
                                                " alt="" width="75px" /> -->
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div fxFlex.gt-sm="50" fxFlex="100">
                                  <div fxFlex.gt-sm="100" fxFlex="100" class="mat-body-clp">
                                    <div fxFlex.gt-sm="50" fxFlex="100" fxFlexAlign="center">
                                      <!-- <mat-form-field appearance="outline"> -->
                                      <!-- <mat-label>Outline form field</mat-label> -->
                                      <!-- <input
                                          matInput
                                          placeholder="Comment"
                                          (change)="addComment(i, $event)"
                                        /> -->
                                      <textarea matInput placeholder="Reason" class="text-reason"
                                        disabled>{{ element?.reviewerRemark }} </textarea>
                                      <!-- </mat-form-field> -->
                                    </div>
                                    <div fxFlex.gt-sm="50" fxFlex="100" fxFlexAlign="center">
                                      <div class="example-element-description d-al-c">
                                        <!-- <span class="p-10 m-r-10 m-l-10">{{ element?.leaveReason }} </span> -->
                                        <span [ngClass]="getStatusColor(element?.leaveStatus)">
                                          {{ getStatus(element?.leaveStatus) }}
                                        </span>
                                      </div>
                                      <!-- <div
                                        class="example-element-description m-r-10 m-l-10"
                                        *ngIf="element && element.leaveStatus != 1"
                                      >
                                        {{ element?.reviewerRemark }}
                                        <span>
                                          
                                          <span [ngClass]="getStatusColor(element?.leaveStatus)">
                                            {{ getStatus(element?.leaveStatus) }}
                                          </span>
                                        </span>
                                      </div> -->
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <!-- <div class="example-element-description">
                              {{ element?.reviewerRemark }}
                              <span>
                                --
                                <span [ngClass]="getStatusColor(element?.leaveStatus)">
                                  {{ getStatus(element?.leaveStatus) }}
                                </span>
                              </span>
                            </div> -->
                            <!-- <div class="collapse-img">
                              <img src="assets/images/users/1.jpg
                              " alt="face" width="75px" />
                              <img src="assets/images/users/1.jpg
                              " alt="" width="75px" />
                            </div> -->
                          </div>
                        </td>
                      </ng-container>

                      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                      <!-- <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr> -->

                      <!-- <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr> -->
                      <tr mat-row *matRowDef="let element; columns: displayedColumns" class="example-element-row"
                        [class.example-expanded-row]="expandedElement === element"
                        (click)="expandedElement = expandedElement === element ? null : element"></tr>
                      <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>

                      <!-- Row shown when there is no matching data. -->
                      <tr class="mat-row" *matNoDataRow>
                        <td class="mat-cell" [attr.colspan]="displayedColumns.length">
                          No Leave request
                        </td>
                      </tr>
                    </table>
                    <!-- </table> -->

                    <mat-paginator [length]="totalRecords" [pageIndex]="0" [pageSizeOptions]="[5, 10, 20]"
                      [pageSize]="pagesize" aria-label="Select page">
                    </mat-paginator>
                  </div>
                </mat-card-content>
              </mat-card>
            </div>
          </div>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>